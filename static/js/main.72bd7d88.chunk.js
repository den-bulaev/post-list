(this["webpackJsonppost-list"]=this["webpackJsonppost-list"]||[]).push([[0],{12:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n.n(s),a=n(5),r=n.n(a),o=(n(12),n(2)),i=n(4),u=n.n(i),l=n(6),d=n(7),j=function(t,e){return fetch("https://bloggy-api.herokuapp.com/"+t,e).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()}))},b=function(t){return j(t,{method:"GET"})},m=function(){return b("posts")},p=function(t){var e;e="posts/".concat(t),j(e,{method:"DELETE"})},h=(n(16),n(0)),O=function(t){var e=t.setSelectedPostId,n=t.selectedPostId,c=Object(s.useState)([]),a=Object(o.a)(c,2),r=a[0],i=a[1],j=Object(s.useState)(!1),b=Object(o.a)(j,2),O=b[0],f=b[1];Object(s.useEffect)((function(){m().then((function(t){return i(t)}))}),[O]);var x=function(t){var n=t.target.dataset.postId;e(+n)},_=function(){e(0)},v=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e.target.dataset.postId);case 2:return t.next=4,m().then((function(t){return i(t)}));case 4:f(!O);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("ul",{className:"list",children:r.map((function(t){var e=t.id,s=t.title;return Object(h.jsxs)("li",{className:"list__item",children:[Object(h.jsx)("h2",{children:s}),Object(h.jsxs)("div",{className:"list__buttons-container",children:[Object(h.jsx)("button",{"data-post-id":e,className:"list__button",type:"button",onClick:e===n?_:x,children:e===n?"close":"open"}),Object(h.jsx)("button",{"data-post-id":e,className:"list__button list__delete",type:"button",onClick:Object(d.debounce)(v,500),children:"delete"})]})]},e)}))})},f=c.a.memo(O),x=function(t){var e=t.comments;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Comments:"}),Object(h.jsx)("ul",{className:"comments",children:e.map((function(t){var e=t.id,n=t.body;return Object(h.jsx)("li",{children:Object(h.jsx)("p",{children:n})},e)}))})]})};x.defaultProps={comments:[]};var _=c.a.memo(x),v=function(t){var e=t.postId,n=Object(s.useState)(null),c=Object(o.a)(n,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){var t;(t=e,b("posts/".concat(t,"?_embed=comments"))).then((function(t){return r(t)}))}),[]),a&&Object(h.jsxs)("div",{className:"post",children:[Object(h.jsx)("h2",{className:"post__title",children:a.title}),Object(h.jsx)("p",{className:"post__body",children:a.body}),Object(h.jsx)(_,{comments:a.comments})]})},N=c.a.memo(v);n(18);var I=function(){var t=Object(s.useState)(0),e=Object(o.a)(t,2),n=e[0],c=e[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("header",{className:"App__header",children:Object(h.jsx)("h1",{className:"App__title",children:"Posts List"})}),Object(h.jsxs)("main",{className:"App__main",children:[Object(h.jsx)("div",{className:"App__sidebar",children:Object(h.jsx)(f,{selectedPostId:n,setSelectedPostId:c})}),Object(h.jsx)("div",{className:"App__details",children:!!n&&Object(h.jsx)(N,{postId:n})})]})]})};r.a.render(Object(h.jsx)(I,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.72bd7d88.chunk.js.map