(this["webpackJsonppost-list"]=this["webpackJsonppost-list"]||[]).push([[0],{12:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n.n(s),o=n(6),r=n.n(o),a=(n(12),n(2)),i=n(5),u=n.n(i),j=n(7),l=n(3),d=function(t,e){return fetch("https://bloggy-api.herokuapp.com/"+t,e).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()}))},b=function(t){return d(t,{method:"GET"})},m=function(){return b("posts")},p=function(t){var e;e="posts/".concat(t),d(e,{method:"DELETE"})},h=(n(16),n(0)),O=function(t){var e=t.setSelectedPostId,n=t.selectedPostId,c=Object(s.useState)([]),o=Object(a.a)(c,2),r=o[0],i=o[1],d=Object(s.useState)(!1),b=Object(a.a)(d,2),O=b[0],f=b[1];Object(s.useEffect)((function(){m().then((function(t){return i(t)}))}),[O]);var x=function(t){var n=t.target.dataset.postId;e(+n)},_=function(){e(0)},v=function(){var t=Object(j.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e.target.dataset.postId);case 2:return t.next=4,m().then((function(t){return i(t)}));case 4:f(!O);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("ul",{className:"list",children:r.map((function(t){var e=t.id,s=t.title;return Object(h.jsxs)("li",{className:"list__item",children:[Object(h.jsx)("h2",{children:s}),Object(h.jsxs)("div",{className:"list__buttons-container",children:[Object(h.jsx)("button",{"data-post-id":e,className:"list__button",type:"button",onClick:e===n?Object(l.debounce)(_,500):Object(l.debounce)(x,500),children:e===n?"close":"open"}),Object(h.jsx)("button",{"data-post-id":e,className:"list__button list__delete",type:"button",onClick:Object(l.debounce)(v,500),children:"delete"})]})]},e)}))})},f=c.a.memo(O),x=function(t){var e=t.comments;return e.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Comments:"}),Object(h.jsx)("ul",{className:"comments",children:e.map((function(t){var e=t.id,n=t.body;return Object(h.jsx)("li",{children:Object(h.jsx)("p",{children:n})},e)}))})]}):Object(h.jsx)("h3",{children:"There are no comments yet"})};x.defaultProps={comments:[]};var _=c.a.memo(x),v=function(t){var e=t.postId,n=Object(s.useState)(null),c=Object(a.a)(n,2),o=c[0],r=c[1];return Object(s.useEffect)((function(){var t;(t=e,b("posts/".concat(t,"?_embed=comments"))).then((function(t){return r(t)}))}),[]),o&&Object(h.jsxs)("div",{className:"post",children:[Object(h.jsx)("h2",{className:"post__title",children:o.title}),Object(h.jsx)("p",{className:"post__body",children:o.body}),Object(h.jsx)(_,{comments:o.comments})]})},N=c.a.memo(v),y=(n(18),function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"form-title",children:"Add new post"}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault()},className:"new-post-form",children:[Object(h.jsx)("input",{type:"text"}),Object(h.jsx)("input",{type:"text"}),Object(h.jsx)("button",{type:"submit",className:"new-post-form__submit-button",children:"Add"})]})]})}),g=c.a.memo(y);n(19);var w=function(){var t=Object(s.useState)(0),e=Object(a.a)(t,2),n=e[0],c=e[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("header",{className:"App__header",children:Object(h.jsx)("h1",{className:"App__title",children:"Posts List"})}),Object(h.jsxs)("main",{className:"App__main",children:[Object(h.jsx)("section",{className:"App__sidebar",children:Object(h.jsx)(f,{selectedPostId:n,setSelectedPostId:c})}),Object(h.jsxs)("section",{className:"App__details",children:[!!n&&Object(h.jsx)(N,{postId:n}),Object(h.jsx)(g,{})]})]})]})};r.a.render(Object(h.jsx)(w,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b6e1618c.chunk.js.map