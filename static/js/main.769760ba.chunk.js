(this["webpackJsonppost-list"]=this["webpackJsonppost-list"]||[]).push([[0],{12:function(t,e,s){},14:function(t,e,s){},16:function(t,e,s){},17:function(t,e,s){"use strict";s.r(e);var n=s(1),c=s.n(n),a=s(5),r=s.n(a),o=(s(12),s(7)),i=s(2),u=function(t,e){return fetch("https://bloggy-api.herokuapp.com/"+t,e).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()}))},l=function(t){return u(t,{method:"GET"})},j=function(t){return e="posts/".concat(t),u(e,{method:"DELETE"});var e},d=s(4),m=s.n(d),p=s(6),b=(s(14),s(0)),h=function(t){var e=t.posts,s=t.setPost,c=t.getPosts,a=Object(n.useState)(0),r=Object(i.a)(a,2),o=r[0],u=r[1],d=function(t){var e=t.target.dataset.postId;(function(t){return l("posts/".concat(t,"?_embed=comments"))})(e).then((function(t){return s(t)})),u(e)},h=function(){s(null),u(0)},O=function(){var t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e.target.dataset.postId);case 2:c();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("ul",{className:"list",children:e.map((function(t){var e=t.id,s=t.title;return Object(b.jsxs)("li",{className:"list__item",children:[Object(b.jsx)("h2",{children:s}),Object(b.jsxs)("div",{className:"list__buttons-container",children:[Object(b.jsx)("button",{"data-post-id":e,className:"list__button",type:"button",onClick:e===+o?h:d,children:e===+o?"close":"open"}),Object(b.jsx)("button",{"data-post-id":e,className:"list__button",type:"button",onClick:O,children:"delete"})]})]},e)}))})};h.defaultProps={posts:[]};var O=c.a.memo(h),f=function(t){var e=t.comments;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{children:"Comments:"}),Object(b.jsx)("ul",{className:"comments",children:e.map((function(t){var e=t.id,s=t.body;return Object(b.jsx)("li",{children:Object(b.jsx)("p",{children:s})},e)}))})]})};f.defaultProps={comments:[]};var x=c.a.memo(f),_=function(t){var e=t.body,s=t.title,n=t.comments;return Object(b.jsxs)("div",{className:"post",children:[Object(b.jsx)("h2",{className:"post__title",children:s}),Object(b.jsx)("p",{className:"post__body",children:e}),Object(b.jsx)(x,{comments:n})]})};_.defaultProps={comments:[]};var v=c.a.memo(_);s(16);var N=function(){var t=Object(n.useState)([]),e=Object(i.a)(t,2),s=e[0],c=e[1],a=Object(n.useState)(null),r=Object(i.a)(a,2),u=r[0],j=r[1];return Object(n.useEffect)((function(){var t;(t="posts",l(t)).then((function(t){return c(t)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{className:"App__header",children:Object(b.jsx)("h1",{className:"App__title",children:"Posts List"})}),Object(b.jsxs)("main",{className:"App__main",children:[Object(b.jsx)("div",{className:"App__sidebar",children:Object(b.jsx)(O,{posts:s,setPost:j})}),Object(b.jsx)("div",{className:"App__details",children:!!u&&Object(b.jsx)(v,Object(o.a)({},u))})]})]})};r.a.render(Object(b.jsx)(N,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.769760ba.chunk.js.map